<div class="dashboard">
    <app-admin-nav-bar></app-admin-nav-bar>
    <app-logout *ngIf="isLogOutModalOpen" (hideLogOutModal)="logOutModalToggle($event)"></app-logout>
    <div class="dashboard_container">
        <app-admin-side-bar (showLogOutModal)="logOutModalToggle($event)"></app-admin-side-bar>
        <div class="dashboard_content">
            <!-- Affiliate Name -->
            <p class="top_intro" [routerLink]="['/admin/merchant']" (click)="goToMerchant()">You are currently editing:  {{merchant['lastName']}} {{merchant['firstName']}} </p>
            <div class="toggler">
             <p class="toggler_btn" (click)="toggleActivated('personal')" [ngClass]="{'active': activated == 'personal'}">Personal Information</p>
             <p class="toggler_btn" (click)="toggleActivated('business')" [ngClass]="{'active': activated == 'business'}">Business Information</p>
             <p class="toggler_btn" (click)="toggleActivated('bank')" [ngClass]="{'active': activated == 'bank'}">Account Information</p>
            </div>
            <div class="edit_contents">
                <form class="editPersonal" *ngIf="activated == 'personal'">
<!--                    <div class="userInfo">-->
<!--                        <img src="https://picsum.photos/200/300" alt="" srcset="" id="profileImg">-->
<!--                        <div class="uibtnrow">-->
<!--                            <button id="change">Change Photo</button>-->
<!--                            <button id="remove">Remove Photo</button>-->
<!--                        </div>-->
<!--                    </div>-->
                    <div class="userDetails">
                        <div class="formGroup">
                            <label for="firstName">First Name</label>
                            <input type="text" name="firstName" [(ngModel)]= "firstName" #fname="ngModel" id="firstName"/>
                            <div *ngIf="(fname.dirty || fname.touched) && !fname.valid">
                                <small *ngIf="fname.required">First Name is required</small>
                            </div>
                        </div>
                        <div class="formGroup">
                            <label for="lastName">Last Name</label>
                            <input type="text" name="lastName" [(ngModel)]="lastName" #lname="ngModel" id="lastName"/>
                            <small *ngIf="(lname.dirty || lname.touched) && !lname.valid">
                                <small *ngIf="lname.required">Last Name is required</small>
                            </small>
                        </div>
                        <div class="formGroup">
                            <label for="middleName">Middle Name(optional)</label>
                            <input type="text" name="middleName" [(ngModel)]="middleName" placeholder="Middle Name"  id="middleName"/>
                        </div>
                        <div class="formGroup">
                            <label for="userName">Username</label>
                            <input type="text" name="login" [(ngModel)]="merchant['login']" #username="ngModel" disabled/>
                            <small *ngIf="(username.dirty || username.touched) && !username.valid">
                                <small *ngIf="username.required">User Name is required</small>
                            </small>
                        </div>
                        <div class="formGroup">
                            <label for="gender">Gender</label>
                            <select name="gender" id="gender" name="gender" [(ngModel)]="gender" #gen="ngModel" disabled>
                                <option [ngValue]="merchant['gender']">{{gender}}</option>
                                <option value="">Please select Gender</option>
                                <option value="MALE">Male</option>
                                <option value="FEMALE">Female</option>
                            </select>
                        </div>
                        <div class="formGroup">
                            <label for="language">Language</label>
                            <input type="text" name="language" value="English" disabled id="language"/>
                        </div>
                        <div class="formGroup">
                            <label for="email">Email Address</label>
                            <input type="email" name="email" [(ngModel)]="merchant['email']" disabled />
                        </div>
                         <div class="formGroup phoneFg">
                            <label for="phoneNumber">Phone Number</label>
                            <div>
                                <input type="text" value="+234" disabled>
                                <input type="text" name="phoneNumber" #phone="ngModel" [(ngModel)]="phoneNumber" id="phoneNumber"
                                        placeholder="08015379315">
                            </div>

<!--                            <small *ngIf="validMobile == false">&#33; This is not a valid phone number</small>-->
<!--                            <small> *ngIf="(phone.touched || phone.dirty || form.submitted) && !phone.valid"</small>-->
<!--                                <small *ngIf="phone.required">Phone Number is required</small>-->
<!--                            </small>-->
                        </div>
                        <button (click)="submitPersonal()" class="formWholeLength">Save Changes</button>
                    </div>
                </form>
                <form class="editBusiness" *ngIf="activated == 'business'">
                    <div class="userDetails">
                        <div class="formGroup">
                            <label for="businessName">Business Name</label>
                            <input type="text" name="businessName" id="businessName" #bname="ngModel" [(ngModel)]="businessName" disabled>
                            <div *ngIf="(bname.dirty || bname.touched) && !bname.valid">
                                <small *ngIf="bname.required">Business Name is required</small>
                            </div>
                        </div>
                        <div class="formGroup">
                            <label for="streetAddress">Street Address</label>
                            <input type="text" name="street" id="street" placeholder="Enter Street Address" #address="ngModel" [(ngModel)]="street">
                            <div *ngIf="(address.dirty || address.touched) && !address.valid">
                                <small *ngIf="address.required">Street address is required</small>
                            </div>
                        </div>
                        <div class="formGroup">
                            <label for="country">Country</label>
                            <input type="text" name="country" id="country" value="Nigeria" [(ngModel)]="country" disabled>
                        </div>
                        <div class="formGroup">
                            <label for="state">State</label>
                            <input type="text" name="state" id="state" value="Edo state" disabled [(ngModel)]="state">
                        </div>
                        <div class="formGroup">
                            <label for="lga">Local Government Area</label>
                            <select name="lga" id="lga" aria-placeholder="select LGA" #local="ngModel" [(ngModel)]="lga">
                                <option value="Akoko-Edo">Akoko-Edo</option>
                                <option value="Egor">Egor</option>
                                <option value="Esan Central">Esan Central</option>
                                <option value="Esan North-East">Esan North-East</option>
                                <option value="Esan South-East">Esan South-East</option>
                                <option value="Esan West">Esan West</option>
                                <option value="Etsako Central">Etsako Central</option>
                                <option value="Etsako East">Etsako East</option>
                                <option value="Etsako West">Etsako West</option>
                                <option value="Igueben">Igueben</option>
                                <option value="Ikpoba-Okha">Ikpoba-Okha</option>
                                <option value="Oredo">Oredo</option>
                                <option value="Orhionmwon">Orhionmwon</option>
                                <option value="Ovia North-East">Ovia North-East</option>
                                <option value="Ovia South-West">Ovia South-West</option>
                                <option value="Owan East">Owan East</option>
                                <option value="Owan West">Owan West</option>
                                <option value="Uhunmwonde">Uhunmwonde</option>
                            </select>
                            <div *ngIf="(local.dirty || local.touched) && !local.valid">
                                <small *ngIf="local.required">LGA is required</small>
                            </div>
                        </div>
                        <div class="formGroup">
                            <label for="city">City</label>
                            <select name="city" id="city" #cities="ngModel" [(ngModel)]="city">
                                <option value="Agbede">Agbede</option>
                                <option value="Agenebode">Agenebode</option>
                                <option value="Auchi">Auchi</option>
                                <option value="Benin City">Benin City</option>
                                <option value="Egor">Egor</option>
                                <option value="Ekpoma">Ekpoma</option>
                                <option value="Emokweme">Emokweme</option>
                                <option value="Esan Central">Esan Central</option>
                                <option value="Esan North-East">Esan North-East</option>
                                <option value="Esan West">Esan West</option>
                                <option value="Eso">Eso</option>
                                <option value="Ewohimi">Ewohimi</option>
                                <option value="Ewu">Ewu</option>
                                <option value="Gelegele">Gelegele</option>
                                <option value="Ibillo">Ibillo</option>
                                <option value="Ibore">Ibore</option>
                                <option value="Idoa">Idoa</option>
                                <option value="Igarra">Igarra</option>
                                <option value="Igbanke">Igbanke</option>
                                <option value="Iguododo">Iguododo</option>
                                <option value="Ihievbe">Ihievbe</option>
                                <option value="Ikara">Ikara</option>
                                <option value="Imiekuri">Imiekuri</option>
                                <option value="Irrua">Irrua</option>
                                <option value="Iyamho">Iyamho</option>
                                <option value="Jattu">Jattu</option>
                                <option value="Lampese">Lampese</option>
                                <option value="Obadan">Obadan</option>
                                <option value="Ogwa">Ogwa</option>
                                <option value="Okpekpe">Okpekpe</option>
                                <option value="Okpella">Okpella</option>
                                <option value="Ososo">Ososo</option>
                                <option value="Owan East">Owan East</option>
                                <option value="Somorika">Somorika</option>
                                <option value="Ubiaja">Ubiaja</option>
                                <option value="Ugbokhare">Ugbokhare</option>
                                <option value="Ughoton">Ughoton</option>
                                <option value="Uhogua">Uhogua</option>
                                <option value="Ujiogba">Ujiogba</option>
                                <option value="Unuamen">Unuamen</option>
                                <option value="Unuedegor">Unuedegor</option>
                                <option value="Uokha">Uokha</option>
                                <option value="Uromi">Uromi</option>
                                <option value="Usonigbe">Usonigbe</option>
                                <option value="Uzebba">Uzebba</option>
                            </select>
                            <div *ngIf="(cities.dirty || cities.touched) && !cities.valid">
                                <small *ngIf="cities.required">City is required</small>
                            </div>
                        </div>
                        <div class="formGroup">
                            <label for="web">Website (Optional)</label>
                            <input type="text" name="web" id="web" placeholder="www.yourbusinessname.com" [(ngModel)]="website">
                        </div>
                        <div class="formGroup">
                            <label for="channel">Channel</label>
                            <input type="text" name="channel" id="channel" value="WHATSAPP" disabled>
                        </div>
                        <div class="formGroup">
                            <label for="payment">Payment</label>
                            <input type="text" name="payment" id="payment" value="EXTERNAL" disabled>
                        </div>
                        <div class="formGroup">
                            <label for="payout">Payout Provider</label>
                            <input type="text" name="payout" id="payout" value="PAYSTACK" disabled>
                        </div>
                        <button (click)="submitBusiness()" class="formWholeLength">Save Changes</button>
                    </div>
                </form>
                <div class="editAccount" *ngIf="activated == 'bank'">
                    <div class="aba_intro">
                        <p id="up">Edit Bank Account</p>
                        <div class="notification">
                            <img src="../../../assets/icons/caution.svg" alt="" srcset="">
                            <p class="regMerchant">Account name must match registered merchant's name (or business name for a registered business)</p>
                        </div>
                    </div>
                    <div class="input_container">
                        <div class="form-group">
                            <label for="accountNumber">Account Number</label>
                            <input type="text" name="accountNumber" id="accountNumber" class="accountNumber" placeholder="Enter Account Number" [(ngModel)]="accountNumber" required>
                        </div>
                        <div class="form-group">
                            <label for="financialInstitution">Financial Institution</label>
                            <select name="financialInstitution" id="financialInstitution" (change)="getCode()" [(ngModel)]="financialInstitution" required>
                                <option value="" >Please select bank</option>
                                <option *ngFor="let bank of bankDetails" [value]="bank.name">{{bank.name}}</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="accountType">Account Type</label>
                            <select name="accountType" id="accountType" [(ngModel)]="accountType" required>
                                <option value="">Select Account Type</option>
                                <option value="SAVINGS">Savings</option>
                                <option value="CURRENT">Current</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="accountName">Account Name</label>
                            <input type="text" name="accountName" id="accountName" [(ngModel)]="accountName" value="{{accountName}}" class="disabled" disabled>
                        </div>
                    </div>
                    <div class="btn_row">
                        <button type="submit" (click)="updateAccount()"class="submit">Done</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<app-footer></app-footer>
